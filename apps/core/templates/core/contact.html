{% extends "base.html" %}
{% load static %}

{% block title %}Contact Us & Support - Nairaxi{% endblock title %}
{% load form_tags %}
{% block content %}

<!-- Page Header -->
<section class="bg-nairaxi-grey-bg/50 py-16 sm:py-20 text-center">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" data-aos="fade-up">
        <h1 class="text-3xl font-extrabold text-nairaxi-dark sm:text-4xl lg:text-5xl">
            Get in Touch
        </h1>
        <p class="mt-4 max-w-2xl mx-auto text-lg text-nairaxi-grey-text">
            We're here to help with any questions or support you need. Choose your preferred contact method below.
        </p>
    </div>
</section>

<!-- Main Content Section -->
<section class="py-16 sm:py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        
        <!-- Quick Links & FAQ Notice -->
        <div class="mb-16 grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-nairaxi-blue text-white p-8 rounded-xl shadow-lg flex flex-col items-center justify-center text-center" data-aos="fade-right">
                <svg class="h-12 w-12 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M13.682 3.43C13.366 2.604 12.722 2 11.999 2c-.727 0-1.37.608-1.686 1.435C7.867 3.959 5.217 5.89 3.103 9.268c-1.082 1.733-1.44 3.618-1.09 5.423C2.513 16.996 4.096 18 5.86 18H7.5c.821 0 1.5-.679 1.5-1.5S8.321 15 7.5 15H6.444c-1.025 0-1.736-.86-1.502-1.842.202-.845.629-1.952 1.396-3.201C7.234 8.26 9.217 7.212 11.999 7.212c2.781 0 4.764 1.048 5.657 2.745.767 1.249 1.195 2.356 1.397 3.2.234.982-.477 1.842-1.502 1.842H16.5c-.821 0-1.5.679-1.5 1.5s.679 1.5 1.5 1.5h1.64c1.763 0 3.346-1.004 3.846-3.309.35-1.805-.008-3.69-1.09-5.423C20.782 5.89 18.132 3.96 15.701 3.435A5.331 5.331 0 0013.682 3.43zM12 12.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z"/><path d="M11.999 22a.75.75 0 01-.75-.75v-1.815a3.001 3.001 0 012.608-2.978A2.999 2.999 0 0112.25 14c-1.188 0-2.202.705-2.693 1.732A4.501 4.501 0 008.5 19.435V21.25a.75.75 0 01-1.5 0v-1.815a6 6 0 0110.014-4.93A5.999 5.999 0 0111.999 12.5c-.01 0-.018 0-.027 0a6 6 0 01-4.472 10.213V21.25a.75.75 0 01-.75.75z"/></svg>
                <h3 class="text-xl font-bold mt-2">Chat with Us on WhatsApp</h3>
                <p class="mt-2 text-blue-100">For the quickest response, send us a message directly.</p>
                <a href="https://wa.me/{{ site_settings.primary_whatsapp_number }}" target="_blank" rel="noopener noreferrer" class="mt-4 inline-block bg-white text-nairaxi-blue font-semibold py-2 px-5 rounded-lg hover:bg-gray-100 transition-colors">Start Chat</a>
            </div>
            <div class="bg-nairaxi-grey-bg p-8 rounded-xl flex flex-col items-center justify-center text-center" data-aos="fade-left">
                 <svg class="h-12 w-12 text-nairaxi-blue mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <h3 class="text-xl font-bold text-nairaxi-dark">Check our FAQs</h3>
                <p class="mt-2 text-nairaxi-grey-text">You might find a quick answer to your question in our FAQ section.</p>
                <a href="{% url 'core:faq' %}" class="mt-4 inline-block bg-white text-nairaxi-dark font-semibold py-2 px-5 rounded-lg hover:bg-gray-200 border border-gray-300 transition-colors">Go to FAQ</a>
            </div>
        </div>

        <!-- Contact Form & Details Grid -->
        <div class="mt-16 lg:grid lg:grid-cols-3 lg:gap-16">
            <!-- Left: Contact Form -->
            <div class="lg:col-span-2" data-aos="fade-up">
                <h2 class="text-2xl sm:text-3xl font-bold text-nairaxi-dark mb-6">Send a Direct Message</h2>
                {% if messages %}{% for message in messages %}
                <div class="mb-4 p-3 rounded-md {% if message.tags == 'success' %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %}" role="alert">
                    {{ message }}
                </div>
                {% endfor %}{% endif %}

                <form method="POST" action="{% url 'core:contact_us' %}" class="space-y-6">
                    {% csrf_token %}
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                        <div>
                            <label for="{{ form.name.id_for_label }}" class="block text-sm font-medium text-gray-700">Full Name</label>
                            {{ form.name|add_placeholder:"Your Full Name"|add_class:"mt-1 block w-full px-4 py-3 border-gray-300 rounded-md shadow-sm focus:ring-nairaxi-blue focus:border-nairaxi-blue" }}
                            {% for error in form.name.errors %}<p class="mt-1 text-xs text-red-600">{{ error }}</p>{% endfor %}
                        </div>
                        <div>
                            <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700">Email Address</label>
                            {{ form.email|add_placeholder:"your.email@example.com"|add_class:"mt-1 block w-full px-4 py-3 border-gray-300 rounded-md shadow-sm focus:ring-nairaxi-blue focus:border-nairaxi-blue" }}
                            {% for error in form.email.errors %}<p class="mt-1 text-xs text-red-600">{{ error }}</p>{% endfor %}
                        </div>
                    </div>
                    <div>
                        <label for="{{ form.subject.id_for_label }}" class="block text-sm font-medium text-gray-700">Subject</label>
                        {{ form.subject|add_placeholder:"Subject of your inquiry"|add_class:"mt-1 block w-full px-4 py-3 border-gray-300 rounded-md shadow-sm focus:ring-nairaxi-blue focus:border-nairaxi-blue" }}
                        {% for error in form.subject.errors %}<p class="mt-1 text-xs text-red-600">{{ error }}</p>{% endfor %}
                    </div>
                    <div>
                        <label for="{{ form.message.id_for_label }}" class="block text-sm font-medium text-gray-700">Message</label>
                        {{ form.message|add_placeholder:"How can we help?"|add_class:"mt-1 block w-full px-4 py-3 border-gray-300 rounded-md shadow-sm focus:ring-nairaxi-blue focus:border-nairaxi-blue" }}
                        {% for error in form.message.errors %}<p class="mt-1 text-xs text-red-600">{{ error }}</p>{% endfor %}
                    </div>
                    {% if form.non_field_errors %} ... {% endif %}
                    <div class="text-right">
                        <button type="submit" class="inline-flex justify-center py-3 px-6 ...">Send Message</button>
                    </div>
                </form>
            </div>

            <!-- Right: Office Details -->
            <div class="mt-12 lg:mt-0" data-aos="fade-up" data-aos-delay="100">
                <h2 class="text-2xl sm:text-3xl font-bold text-nairaxi-dark mb-6">Our Office</h2>
                <div class="space-y-4 text-nairaxi-grey-text">
                    <p><strong>Address:</strong><br>{{ site_settings.office_address|default:'123 Auto Lane, Uyo, Akwa Ibom State'|linebreaksbr }}</p>
                    <p><strong>Phone:</strong><br><a href="tel:{{ site_settings.primary_phone_number|default:'' }}" class="text-nairaxi-blue hover:underline">{{ site_settings.primary_phone_number|default:'+234 XXX XXX XXXX' }}</a></p>
                    <p><strong>Email:</strong><br><a href="mailto:{{ site_settings.primary_email|default:'' }}" class="text-nairaxi-blue hover:underline">{{ site_settings.primary_email|default:'support@nairaxi.com' }}</a></p>
                </div>
                <div class="mt-8 rounded-lg overflow-hidden shadow-md">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15899.8033550278!2d7.915000000000001!3d4.950000000000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNMKwMDAnMDAuMCJOIDfCsDU1JzAwLjAiRQ!5e0!3m2!1sen!2sng!4v1678123456789!5m2!1sen!2sng"
                            width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade" title="Nairaxi Office Location"></iframe>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock content %}